# Game Engine Editor

现代化的游戏引擎编辑器，基于Rust构建，支持多平台、高性能渲染和AI加速。

## 功能特性

### P0 核心竞争力
- **可视化着色器编辑器** - 节点式材质编辑器，支持PBR材质、实时预览和GLSL代码生成
- **PCG工具** - 程序化内容生成，支持地形生成、植被分布、水体模拟
- **AI辅助工具** - AI代码助手、纹理生成、材质生成、性能优化建议，支持NPU硬件加速

### P1 商业化能力
- **可视化脚本系统** - 类似UE蓝图的节点式脚本编辑器，支持事件、逻辑、数学、游戏节点
- **高级动画系统** - 动画蓝图、IK系统、根运动、动画状态机
- **物理动画系统** - 布娃娃系统、骨骼物理模拟、碰撞响应、混合权重控制

### 高级扩展功能
- **插件管理器** - 第三方插件安装、配置、启用/禁用，插件开发API
- **动作捕捉集成** - BVH/FBX格式导入、数据清理、平滑算法、重定向设置
- **面部动画系统** - 混合形状、骨骼驱动、表情库管理、AI辅助生成
- **动画重定向工具** - 自动骨骼映射、比例调整、姿势匹配、预设配置

### AI游戏逻辑
- **行为树编辑器** - 复合/装饰/条件/动作节点、黑板变量系统、执行策略配置
- **NPC对话系统** - 对话节点、条件分支、表情动画、事件触发、AI生成、多语言本地化

### 专业功能
- **撤销/重做系统** - 完整的命令模式实现，支持操作历史查看
- **项目管理** - 创建、保存、打开项目，最近项目列表
- **Monaco代码编辑器** - VS Code同款编辑器，支持语法高亮、自动补全
- **WebSocket通信** - 与Rust引擎实时双向通信，自动重连机制
- **WebGPU 3D渲染器** - 硬件加速的3D场景渲染
- **拖放交互** - 从资产浏览器拖动资产到场景编辑器
- **快捷键系统** - 20+快捷键支持（Ctrl+S保存、Q/W/E切换工具等）
- **命令面板** - Ctrl+K或Ctrl+P快速访问所有功能
- **实时性能监控** - FPS、帧时间、内存使用显示

## 技术栈

- **前端**: React 19 + TypeScript + Vite
- **UI框架**: Tailwind CSS 4 + shadcn/ui
- **状态管理**: React Context API
- **节点编辑器**: React Flow
- **代码编辑器**: Monaco Editor
- **3D渲染**: WebGPU
- **通信**: WebSocket

## 快速开始

```bash
# 安装依赖
pnpm install

# 启动开发服务器
pnpm dev

# 构建生产版本
pnpm build
```

## 项目结构

```
client/
  src/
    pages/          # 页面组件
    components/     # UI组件
    contexts/       # React上下文
    hooks/          # 自定义Hooks
    lib/            # 工具函数
  public/           # 静态资源
```

## 快捷键

- `Ctrl+S` - 保存
- `Ctrl+Z` - 撤销
- `Ctrl+Y` - 重做
- `Ctrl+K` / `Ctrl+P` - 打开命令面板
- `Q` - 选择工具
- `W` - 移动工具
- `E` - 旋转工具
- `R` - 缩放工具

## 开发路线图

### ✅ 已完成功能

- [x] P0: 核心竞争力（着色器编辑器、PCG工具、AI助手）
- [x] P1: 商业化能力（可视化脚本、高级动画、物理动画）
- [x] 高级扩展（插件系统、动捕集成、面部动画、动画重定向）
- [x] AI游戏逻辑（行为树、NPC对话系统）

### 🚀 未来路线图

#### P0: 核心竞争力补齐（6-12个月）

此阶段的目标是补齐对游戏开发流程有"革命性"影响的核心功能，让引擎从"可用"变为"好用"。

| 优先级 | 功能模块 | 目标与价值 | 状态 |
|--------|----------|------------|------|
| P0.1 | 虚拟纹理 (Streaming Virtual Texturing) | 彻底解决纹理显存限制。允许使用任意大小的纹理，美术师无需再为纹理尺寸和显存占用而烦恼。 | 📋 计划中 |
| P0.2 | 可视化着色器编辑器 (Visual Shader Editor) | 赋能美术师。让美术师可以通过节点拖拽的方式创建复杂的着色器，极大提高开发效率和创作自由度。 | ✅ 已完成 |
| P0.3 | 程序化内容生成框架 (PCG Framework) | 变革内容生产方式。提供一套用于创建程序化地形、植被、建筑的工具集，为打造大规模开放世界提供可能。 | ✅ 已完成 |
| P0.4 | AI辅助开发工具 (AI Copilot) | 发挥AI底层优势。基于我们已有的NPU SDK，开发AI辅助编码、AI生成纹理/材质等工具，将AI算力转化为生产力。 | ✅ 已完成 |

#### P1: 商业化能力完善（12-24个月）

此阶段的目标是完善商业游戏开发所需的各项高级功能，使引擎具备开发AAA级游戏的能力。

| 优先级 | 功能模块 | 目标与价值 | 状态 |
|--------|----------|------------|------|
| P1.1 | 可视化脚本系统 (Visual Scripting) | 降低开发门槛。类似UE的蓝图，让策划和设计师能够独立实现游戏逻辑，加速原型验证和开发迭代。 | ✅ 已完成 |
| P1.2 | 高级动画系统 (Advanced Animation System) | 提升角色表现力。集成程序化IK、动画蓝图、根运动等功能，让角色动画更加生动自然。 | ✅ 已完成 |
| P1.3 | 动态全局光照方案 (Dynamic GI Solution) | 提升渲染画质。研发一套适合我们引擎架构的实时动态全局光照方案（可参考SDFGI或VoxelGI）。 | 📋 计划中 |
| P1.4 | 资产市场与插件系统 (Asset Store & Plugin System) | 构建生态系统。建立官方的资产商店和插件市场，鼓励社区贡献内容，降低开发者的项目启动成本。 | 🚧 进行中 |

#### P2: 前沿技术探索（长期）

此阶段的目标是跟进行业最前沿的技术，探索下一代游戏引擎的可能性。

| 优先级 | 功能模块 | 目标与价值 | 状态 |
|--------|----------|------------|------|
| P2.1 | 虚拟化几何体 (Virtualized Geometry) | 挑战渲染极限。研发类似Nanite的虚拟化几何体系统，实现无限细节的渲染。 | 📋 计划中 |
| P2.2 | 神经渲染 (Neural Rendering) | 探索AI渲染未来。研究基于AI的渲染技术，如神经辐射场（NeRF），探索全新的渲染范式。 | 📋 计划中 |

### 📊 进度总览

- **P0阶段**: 75% 完成（3/4 功能已实现）
- **P1阶段**: 50% 完成（2/4 功能已实现）
- **P2阶段**: 0% 完成（研究阶段）
- **总体进度**: 62.5% 完成（5/8 核心功能已实现）

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request！
